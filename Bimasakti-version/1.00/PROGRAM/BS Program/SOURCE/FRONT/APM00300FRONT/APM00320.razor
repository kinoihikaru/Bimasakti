@inherits R_Page
@attribute [R_Page(Title = "One Time Supplier")]
@using APM00300COMMON
@using APM00300MODEL
@inject R_ILocalizer<APM00300FrontResources.Resources_Dummy_Class> _localizer

<R_StackLayout Style="width:1000px">

    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>@(_localizer["_Supp"])</R_Label>
        </R_ItemLayout>

        <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@_Supplier_viewModel.SupplierID"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="4">
            <R_TextBox @bind-Value="@_Supplier_viewModel.SupplierName"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="2">
                <R_Label>@(_localizer["_SeqNo"])</R_Label>
        </R_ItemLayout>

        <R_ItemLayout col="2">
            <R_ComboBox Data="@_Supplier_viewModel.SupplierSeqList"
                        @bind-Value="@_Supplier_viewModel.RecId"
                        R_ConductorSource="@_Supplier_conductorRef"
                        PopupMaxHeight="140px"
                        ValueField="@nameof(APM00321DTO.CREC_ID)"
                        TextField="@nameof(APM00321DTO.CSEQ_NO)" 
                        R_EnableOther />
        </R_ItemLayout>
        <R_ItemLayout col="1">
                <R_Button R_ConductorSource="@_Supplier_conductorRef" OnClick="@Supplier_BtnRefreshOnClick" R_EnableOther="@(_Supplier_viewModel.SupplierSeqList.Count > 0)">@(_localizer["_Refresh"])</R_Button>
        </R_ItemLayout>
    </R_StackLayout>

    <R_TabStrip>
            <R_TabStripTab Title="@(_localizer["_TabAddrContact"])" Id="Address" Enabled>
            <R_StackLayout Row>
                <R_ItemLayout col="8">
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_Addr"])*</R_Label>
                        </R_ItemLayout>

                        <R_ItemLayout col="9">
                            <R_TextArea @bind-Value="@_Supplier_viewModel.Data.CADDRESS"
                                        R_ConductorSource="@_Supplier_conductorRef"
                                        R_EnableEdit>
                            </R_TextArea>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_City"])*</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCITY_CODE"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       OnLostFocus="@cityCode_OnLostFocus"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                        <R_ItemLayout col="0">
                            <R_Lookup R_ConductorSource="@_Supplier_conductorRef"
                                      R_Before_Open_Lookup="@Supplier_City_Before_Open_Lookup"
                                      R_After_Open_Lookup="@Supplier_City_After_Open_Lookup"
                                      R_EnableEdit>...</R_Lookup>
                        </R_ItemLayout>
                        <R_ItemLayout col="5">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCITY_NAME"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_State"])</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CSTATE_CODE"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                        <R_ItemLayout col="6">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CSTATE_NAME"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_Country"])</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCOUNTRY_CODE"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                        <R_ItemLayout col="6">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCOUNTRY_NAME"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       Enabled="false">
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_ZipCode"])</R_Label>
                        </R_ItemLayout>

                        <R_ItemLayout col="9">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CPOSTAL_CODE"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_Phone"])*</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>1</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CPHONE1"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                        <R_ItemLayout col="1">
                            <R_Label>@(_localizer["_Fax"])</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>1</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CFAX1"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label> </R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>2</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CPHONE2"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                        <R_ItemLayout col="1">
                            <R_Label> </R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>2</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="3">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CFAX2"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label>@(_localizer["_Email"])</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>1</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="8">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CEMAIL1"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                    <R_StackLayout Row>
                        <R_ItemLayout col="3">
                            <R_Label></R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="0" Class="border text-center pe-4 ps-4">
                            <R_Label>2</R_Label>
                        </R_ItemLayout>
                        <R_ItemLayout col="8">
                            <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CEMAIL2"
                                       R_ConductorSource="@_Supplier_conductorRef"
                                       R_EnableEdit>
                            </R_TextBox>
                        </R_ItemLayout>
                    </R_StackLayout>
                </R_ItemLayout>

                <R_ItemLayout col="4" Class="ps-2">
                    <R_StackLayout Class="border">
                        <R_StackLayout Row>
                            <R_Label FontColor="@R_eFontColor.Danger">@(_localizer["_CP1"])</R_Label>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Name"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_NAME1"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Phone"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_PHONE1"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Email"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_EMAIL1"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Position"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_POSITION1"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                    </R_StackLayout>
                    <R_StackLayout Class="border">
                        <R_StackLayout Row>
                            <R_Label FontColor="@R_eFontColor.Danger">@(_localizer["_CP2"])</R_Label>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Name"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_NAME2"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Phone"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_PHONE2"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Email"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_EMAIL2"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="2">
                                <R_Label>@(_localizer["_Position"])</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="9">
                                <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CCONTACT_POSITION2"
                                           R_ConductorSource="@_Supplier_conductorRef"
                                           R_EnableEdit>
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                    </R_StackLayout>
                </R_ItemLayout>
            </R_StackLayout>
        </R_TabStripTab>
            <R_TabStripTab Title="@(_localizer["_TabTaxInfo"])" Id="Tax">
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@(_localizer["_TaxType"])</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="3">
                    <R_ComboBox Data="@_Supplier_viewModel.TaxTypeList"
                                @bind-Value="@_Supplier_viewModel.Data.CTAX_TYPE"
                                PopupMaxHeight="140px"
                                ValueField="@nameof(APM00300TaxTypeDTO.CCODE)"
                                TextField="@nameof(APM00300TaxTypeDTO.CNAME)"
                                R_ConductorSource="@_Supplier_conductorRef" R_EnableEdit>
                    </R_ComboBox>
                </R_ItemLayout>
            </R_StackLayout>

            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@(_localizer["_TaxName"])</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="4">
                    <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CTAX_NAME"
                               R_ConductorSource="@_Supplier_conductorRef"
                               Enabled="@_EnableSaveHasData">
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>

            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@(_localizer["_TaxRegID"])</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="4">
                    <R_TextBox @bind-Value="@_Supplier_viewModel.Data.CTAX_REG_ID"
                               R_ConductorSource="@_Supplier_conductorRef"
                               R_EnableEdit>
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>

            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@(_localizer["_TaxRegDate"])</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="3">
                    <R_DatePicker @bind-Value="@_Supplier_viewModel.TaxRegDate"
                                  R_ConductorSource="@_Supplier_conductorRef"
                                  R_EnableEdit>
                    </R_DatePicker>
                </R_ItemLayout>
            </R_StackLayout>
        </R_TabStripTab>
    </R_TabStrip>

    <R_StackLayout Class="mt-2">
        <R_StackLayout Row Justify="@R_eJustify.SpaceBetween">
            <R_ItemLayout>
                <R_EditButton R_Conductor="_Supplier_conductorRef"></R_EditButton>
            </R_ItemLayout>
            <R_ItemLayout>
                <R_CancelButton R_Conductor="_Supplier_conductorRef"></R_CancelButton>
               <R_SaveButton R_Conductor="_Supplier_conductorRef"></R_SaveButton>
            </R_ItemLayout>
        </R_StackLayout>
    </R_StackLayout>
        
</R_StackLayout>

<R_Conductor @ref="@_Supplier_conductorRef"
             R_ViewModel="@_Supplier_viewModel"
             R_IsHeader="true"
             R_ServiceGetRecord="@Supplier_ServiceGetRecord" 
             R_Validation="@Supplier_Validation"
             R_ServiceSave="@Supplier_ServiceSave"
             R_SetHasData="@Supplier_SetHasData"/>        