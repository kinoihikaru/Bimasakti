@inherits R_Page
@using Lookup_GSCOMMON.DTOs;

<R_GroupBox Title="Journal Description" TitleClass="text-danger">
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Department</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-Value="_journalVM.Data.CDEPT_CODE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false"
                       CharacterCasing="R_eCharacterCasing.Upper"
                       MaxLength="5" />
            </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="_journalVM.Data.CDEPT_NAME"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false"
                       CharacterCasing="R_eCharacterCasing.Upper" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Currency*</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_TextBox @bind-Value="@_journalVM.Data.CCURRENCY_CODE"
                        R_ConductorSource="_conJournalNavigator"
                        Enabled="false"
                        ></R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="3">
            <R_CheckBox @bind-Value="@_journalVM.Data.LFIX_RATE"
                        R_ConductorSource="@_conJournalNavigator"
                        Enabled="false"></R_CheckBox>
            <R_Label>Fixed Exchange Rate</R_Label>
        </R_ItemLayout>
    </R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Reference No. *</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CREF_NO"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Ref Date. *</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_DateTimePicker @bind-Value="_journalVM.RefDate"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1" />
        <R_ItemLayout col="1">
            <R_Label>Base Rate</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1" />
        <R_ItemLayout col="1">
            <R_Label>Currency Rate</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1" />
    </R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Document No.</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@_journalVM.Data.CDOC_NO"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Doc Date.</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_DateTimePicker @bind-Value="_journalVM.DocDate"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Local Currency</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="_journalVM.Data.NLBASE_RATE"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false"
                              Decimals="9"
                              Min="0" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CCURRENCY_CODE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="@_journalVM.Data.NLCURRENCY_RATE"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false"
                              Decimals="9"
                              Min="0" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.GSM_COMPANY.CLOCAL_CURRENCY_CODE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false"></R_TextBox>
        </R_ItemLayout>
    </R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Frequency*</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="@_journalVM.Data.IFREQUENCY"
                              R_ConductorSource="_conJournalNavigator"
                              Min="2"
                              Max="99"
                              Enabled="false"/>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Applied.</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="@_journalVM.Data.IAPPLIED"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Base Currency</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="_journalVM.Data.NBBASE_RATE"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false"
                              Decimals="9"
                              Min="0" />
            </R_ItemLayout>
            <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@_journalVM.Data.CCURRENCY_CODE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
            </R_ItemLayout>
            <R_ItemLayout col="1">
            <R_NumericTextBox @bind-Value="_journalVM.Data.NBCURRENCY_RATE"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false"
                              Decimals="9"
                              Min="0" />
            </R_ItemLayout>
            <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@_journalVM.GSM_COMPANY.CBASE_CURRENCY_CODE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
            </R_ItemLayout>
        </R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Start Date</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_DateTimePicker @bind-Value="_journalVM.StartDate"
                              R_ConductorSource="_conJournalNavigator"
                              Enabled="false" />
        </R_ItemLayout>

        <R_ItemLayout col="1">
            <R_Label>Next Date</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CNEXT_DATE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Last Date</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CLAST_DATE"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1" Class="ms-6">
            <R_Label>Updated By</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CUPDATE_BY"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_DatePicker @bind-Value="_journalVM.Data.DUPDATE_DATE"
                          R_ConductorSource="_conJournalNavigator"
                          Enabled="false" />
        </R_ItemLayout>
    </R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Description*</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="7">
            <R_TextBox @bind-value="@_journalVM.Data.CTRANS_DESC"
                       R_ConductorSource="_conJournalNavigator"
                       MaxLength="200"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Created By</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-value="@_journalVM.Data.CCREATE_BY"
                       R_ConductorSource="_conJournalNavigator"
                       Enabled="false" />
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_DatePicker @bind-Value="_journalVM.Data.DCREATE_DATE"
                          R_ConductorSource="_conJournalNavigator"
                          Enabled="false" />
        </R_ItemLayout>
    </R_StackLayout>
</R_GroupBox>

<R_GroupBox Title="Journal Detail" TitleClass="text-danger">
    <R_Grid @ref="@_gridJournalDet"
            DataSource="@_journalVM.JournaDetailActualGrid"
            Pageable
            Height="250px"
            R_ConductorSource="@_conJournalNavigator"
            R_GridType="R_eGridType.Navigator"
            R_ServiceGetListRecord="JournalDetGrid_ServiceGetListRecord"
            >
        <R_GridColumns>
            <R_GridTextColumn FieldName="@nameof(JournalDetailActualGridDTO.CREF_NO)" HeaderText="Reference No." Width="200px" />
            <R_GridTextColumn FieldName="@nameof(JournalDetailActualGridDTO.CDOC_SEQ_NO)" HeaderText="Seq." Width="100px" />
            <R_GridTextColumn FieldName="@nameof(JournalDetailActualGridDTO.CREF_PRD)" HeaderText="Period" Width="150px" />
            <R_GridTextColumn FieldName="@nameof(JournalDetailActualGridDTO.CREF_DATE)" HeaderText="Reference Date" Width="200px" />
            <R_GridNumericColumn FieldName="@nameof(JournalDetailActualGridDTO.NTRANS_AMOUNT)" HeaderText="Original Amount" Width="200px"  />
            <R_GridNumericColumn FieldName="@nameof(JournalDetailActualGridDTO.NLTRANS_AMOUNT)" HeaderText="Local Amount" Width="200px" />
            <R_GridNumericColumn FieldName="@nameof(JournalDetailActualGridDTO.NBTRANS_AMOUNT)" HeaderText="Base Amount" Width="150px" />
            <R_GridTextColumn FieldName="@nameof(JournalDetailActualGridDTO.CCREATE_BY)" HeaderText="Posted By" Width="150px" />
            <R_GridDateTimePickerColumn FieldName="@nameof(JournalDetailActualGridDTO.DCREATE_DATE)" HeaderText="Posted Date" Width="200px" />
        </R_GridColumns>
    </R_Grid>
</R_GroupBox>

<R_Conductor @ref="_conJournalNavigator"
             R_ViewModel="_journalVM"
              R_IsHeader
             R_ServiceGetRecord="JournalForm_GetRecord"
             R_Display="JournalForm_Display"
             >
</R_Conductor>